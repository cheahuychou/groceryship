<script src='/javascripts/profile.js'></script>
<h1>{{title}}</h1>
<div class='profile-table-container'>
  <table class="table table-hover">
    <tbody>
    	<tr>
    	  <th>Kerberos</th>
    	  <td id='kerberos'>{{user.username}}</td>
    	</tr>
      <tr>
        <th>Full Name</th>
        <td>{{user.firstName}} {{user.lastName}}</td>
      </tr>
    	  <th>Phone Number</th>
    	  <td>{{user.phoneNumber}}</td>
    	<tr>
    	  <th>Dorm</th>
    	  <td>{{user.dorm}}</td>
    	</tr>
    	<tr>
    	  <th>Stripe Account</th>
    	  <td>{{user.stripeEmail}}</td>
    	</tr>
    </tbody>
  </table>
</div>
<input type="button" class='btn btn-primary' data-toggle="modal" data-target="#register-modal" value='Edit Profile'></input>

<div id="register-modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Edit Profile</h4>
      </div>
      <div class="modal-body">
        <div class="modal-messages"></div>
        <form id='register-form' onsubmit='return checkEditForm()'>
          <input id='csrf' type="hidden" name="_csrf" value="{{csrfToken}}">
          <input id='password-register-box' class='form-control edit-profile-input' type='password' name='newPassword' placeholder='new password' required></input>
          <input id='confirm-password-register-box' class='form-control edit-profile-input' type='password' name='confirmPassword' placeholder='confirm password' required></input>
          <input id='phone-number-register-box' class='form-control edit-profile-input' type='text' name='newPhoneNumber' placeholder='phone number' required value='{{user.phoneNumber}}'></input>
          <select name='{{user.dorm}}' id='edit-dormlist' class='form-control edit-profile-input' required>
            {{#each allDorms}}
            <option>{{this}}</option>
            {{/each}}
          </select>
          <button type="submit" id='edit-confirm-button' class='btn btn-primary btn-sm'>Confirm Changes</button>
        </form>
      </div>     
    </div>
  </div>
</div>